/*
 * Copyright (c) 2011, Yahoo! Inc.  All rights reserved.
 * Copyright (c) 2011-2012, Log-Normal, Inc.  All rights reserved.
 * Copyright (c) 2012-2016, SOASTA, Inc. All rights reserved.
 * Copyright (c) 2016-2017, Edgemesh, Inc. Inc. All rights reserved.
 * Copyrights licensed under the BSD License. See the accompanying LICENSE.txt file for terms.
 */
/* JavaScript MD5 1.0.1 Copyright 2011, Sebastian Tschan. Licensed under the MIT license. */
/* Edgemesh Tracking Version: 1.0.1491447358 */

function BOOMR_check_doc_domain(a){if(window){if(!a){if(window.parent===window||!document.getElementById("boomr-if-as"))return;if(window.BOOMR&&BOOMR.boomerang_frame&&BOOMR.window)try{BOOMR.boomerang_frame.document.domain!==BOOMR.window.document.domain&&(BOOMR.boomerang_frame.document.domain=BOOMR.window.document.domain)}catch(b){BOOMR.isCrossOriginError(err)||BOOMR.addError(err,"BOOMR_check_doc_domain.domainFix")}a=document.domain}if(a.indexOf(".")!==-1){try{window.parent.document;return}catch(b){document.domain=a}try{window.parent.document;return}catch(b){a=a.replace(/^[\w\-]+\./,"")}BOOMR_check_doc_domain(a)}}}BOOMR_start=(new Date).getTime();BOOMR_check_doc_domain();!function(a){var b,c,d,e,f,g,h,i,j=a;if(a.parent!==a&&document.getElementById("boomr-if-as")&&"script"===document.getElementById("boomr-if-as").nodeName.toLowerCase()){a=a.parent;e=document.getElementById("boomr-if-as").src}d=a.document;a.BOOMR||(a.BOOMR={});BOOMR=a.BOOMR;if(!BOOMR.version){BOOMR.version="1.0.1491447358";BOOMR.window=a;BOOMR.boomerang_frame=j;BOOMR.plugins||(BOOMR.plugins={});!function(){try{void 0!==new a.CustomEvent("CustomEvent")&&(f=function(b,c){return new a.CustomEvent(b,c)})}catch(b){}try{!f&&d.createEvent&&d.createEvent("CustomEvent")&&(f=function(a,b){var c=d.createEvent("CustomEvent");b=b||{cancelable:!1,bubbles:!1};c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail);return c})}catch(b){}!f&&d.createEventObject&&(f=function(a,b){var c=d.createEventObject();c.type=c.propertyName=a;c.detail=b.detail;return c});f||(f=function(){})}();g=function(a,b,c){function e(){d.dispatchEvent?d.dispatchEvent(g):d.fireEvent&&d.fireEvent("onpropertychange",g)}var g=f(a,{detail:b});g&&(c?BOOMR.setImmediate(e):e())};if(void 0!==document.hidden){h="visibilityState";i="visibilitychange"}else if(void 0!==document.mozHidden){h="mozVisibilityState";i="mozvisibilitychange"}else if(void 0!==document.msHidden){h="msVisibilityState";i="msvisibilitychange"}else if(void 0!==document.webkitHidden){h="webkitVisibilityState";i="webkitvisibilitychange"}b={beacon_url:"",beacon_type:"AUTO",beacon_auth_key:"Authorization",beacon_auth_token:void 0,site_domain:a.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/,"$1").toLowerCase(),user_ip:"",autorun:!0,events:{page_ready:[],page_unload:[],before_unload:[],dom_loaded:[],visibility_changed:[],prerender_to_visible:[],before_beacon:[],onbeacon:[],xhr_load:[],click:[],form_submit:[]},public_events:{before_beacon:"onBeforeBoomerangBeacon",onbeacon:"onBoomerangBeacon",onboomerangloaded:"onBoomerangLoaded"},vars:{},varPriority:{"-1":{},1:{}},errors:{},disabled_plugins:{},xb_handler:function(c){return function(d){var e;d||(d=a.event);d.target?e=d.target:d.srcElement&&(e=d.srcElement);3===e.nodeType&&(e=e.parentNode);e&&"OBJECT"===e.nodeName.toUpperCase()&&"application/x-shockwave-flash"===e.type||b.fireEvent(c,e)}},fireEvent:function(a,b){var c,d,e;a=a.toLowerCase();if(this.events.hasOwnProperty(a)){this.public_events.hasOwnProperty(a)&&g(this.public_events[a],b);e=this.events[a];"before_beacon"!==a&&"onbeacon"!==a&&BOOMR.real_sendBeacon();for(c=0;c<e.length;c++)try{d=e[c];d.fn.call(d.scope,b,d.cb_data)}catch(f){BOOMR.addError(err,"fireEvent."+a+"<"+c+">")}}}};c={t_start:BOOMR_start,url:e,constants:{BEACON_TYPE_SPAS:["spa","spa_hard"],MAX_GET_LENGTH:2e3},utils:{objectToString:function(a,b,c){var d,e=[];if(!a||"object"!=typeof a)return a;void 0===b&&(b="\n\t");c||(c=0);if("[object Array]"===Object.prototype.toString.call(a)){for(d=0;d<a.length;d++)c>0&&null!==a[d]&&"object"==typeof a[d]?e.push(this.objectToString(a[d],b+("\n\t"===b?"\t":""),c-1)):"&"===b?e.push(encodeURIComponent(a[d])):e.push(a[d]);b=","}else for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&(c>0&&null!==a[d]&&"object"==typeof a[d]?e.push(encodeURIComponent(d)+"="+this.objectToString(a[d],b+("\n\t"===b?"\t":""),c-1)):"&"===b?e.push(encodeURIComponent(d)+"="+encodeURIComponent(a[d])):e.push(d+"="+a[d]));return e.join(b)},getCookie:function(a){if(!a)return null;a=" "+a+"=";var b,c;c=" "+d.cookie+";";if((b=c.indexOf(a))>=0){b+=a.length;c=c.substring(b,c.indexOf(";",b)).replace(/^"/,"").replace(/"$/,"");return c}},setCookie:function(a,c,e){var f,g,h,i,j;if(!a||!b.site_domain){BOOMR.debug("No cookie name or site domain: "+a+"/"+b.site_domain);return!1}f=this.objectToString(c,"&");g=a+'="'+f+'"';i=[g,"path=/","domain="+b.site_domain];if(e){j=new Date;j.setTime(j.getTime()+1e3*e);j=j.toGMTString();i.push("expires="+j)}if(g.length<500){d.cookie=i.join("; ");h=this.getCookie(a);if(f===h)return!0;BOOMR.warn("Saved cookie value doesn't match what we tried to set:\n"+f+"\n"+h)}else BOOMR.warn("Cookie too long: "+g.length+" "+g);return!1},getSubCookies:function(a){var b,c,d,e,f=!1,g={};if(!a)return null;if("string"!=typeof a){BOOMR.debug("TypeError: cookie is not a string: "+typeof a);return null}b=a.split("&");for(c=0,d=b.length;c<d;c++){e=b[c].split("=");if(e[0]){e.push("");g[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);f=!0}}return f?g:null},removeCookie:function(a){return this.setCookie(a,{},-86400)},cleanupURL:function(a,c){if(!a||"[object Array]"===Object.prototype.toString.call(a))return"";b.strip_query_string&&(a=a.replace(/\?.*/,"?qs-redacted"));if(void 0!==c&&a&&a.length>c){var d=a.indexOf("?");a=d!==-1&&d<c?a.substr(0,d)+"?...":a.substr(0,c-3)+"..."}return a},hashQueryString:function(a,b){if(!a)return a;if(!a.match){BOOMR.addError("TypeError: Not a string","hashQueryString",typeof a);return""}a.match(/^\/\//)&&(a=location.protocol+a);if(!a.match(/^(https?|file):/)){BOOMR.error("Passed in URL is invalid: "+a);return""}b&&(a=a.replace(/#.*/,""));return BOOMR.utils.MD5?a.replace(/\?([^#]*)/,function(a,b){return"?"+(b.length>10?BOOMR.utils.MD5(b):b)}):a},pluginConfig:function(a,b,c,d){var e,f=0;if(!b||!b[c])return!1;for(e=0;e<d.length;e++)if(void 0!==b[c][d[e]]){a[d[e]]=b[c][d[e]];f++}return f>0},arrayFilter:function(a,b){var c=[];if("function"==typeof a.filter)c=a.filter(b);else for(var d,e=-1,f=a.length;++e<f;){d=a[e];b(d,e,a)&&(c[c.length]=d)}return c},addObserver:function(a,b,c,d,e,f){function g(a){var b=!1;if(h.timer){clearTimeout(h.timer);h.timer=null}if(d){b=d.call(f,a,e);b||(d=null)}if(!b&&h.observer){h.observer.disconnect();h.observer=null}"number"==typeof b&&b>0&&(h.timer=setTimeout(g,b))}var h={observer:null,timer:null};if(!window.MutationObserver||!d||!a)return null;h.observer=new MutationObserver(g);c&&(h.timer=setTimeout(g,h.timeout));h.observer.observe(a,b);return h},addListener:function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},removeListener:function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)},pushVars:function(a,b,c){var d,e,f,g=0;for(d in b)if(b.hasOwnProperty(d))if("[object Array]"===Object.prototype.toString.call(b[d]))for(e=0;e<b[d].length;++e)g+=BOOMR.utils.pushVars(a,b[d][e],d+"["+e+"]");else{f=document.createElement("input");f.type="hidden";f.name=c?c+"["+d+"]":d;f.value=void 0===b[d]||null===b[d]?"":b[d];a.appendChild(f);g+=encodeURIComponent(f.name).length+encodeURIComponent(f.value).length+2}return g},inArray:function(a,b){var c;if(void 0===a||void 0===b||!b.length)return!1;for(c=0;c<b.length;c++)if(b[c]===a)return!0;return!1},getQueryParamValue:function(a,b){var c,d,e,f;if(!a)return null;if("string"==typeof b){c=BOOMR.window.document.createElement("a");c.href=b}else c="object"==typeof b&&"string"==typeof b.search?b:BOOMR.window.location;d=c.search.slice(1).split(/&/);for(e=0;e<d.length;e++)if(d[e]){f=d[e].split("=");if(f.length&&f[0]===a)return decodeURIComponent(f[1].replace(/\+/g," "))}return null}},init:function(c){var e,f,g=["beacon_url","beacon_type","beacon_auth_key","beacon_auth_token","site_domain","user_ip","strip_query_string","secondary_beacons","autorun"];BOOMR_check_doc_domain();c||(c={});if(c.primary&&b.handlers_attached)return this;void 0!==c.log&&(this.log=c.log);this.log||(this.log=function(){});void 0!==c.autorun&&(b.autorun=c.autorun);for(f in this.plugins)if(this.plugins.hasOwnProperty(f)){if(c[f]&&c[f].hasOwnProperty("enabled")&&c[f].enabled===!1){b.disabled_plugins[f]=1;"function"==typeof this.plugins[f].disable&&this.plugins[f].disable();continue}if(b.disabled_plugins[f]){if(!c[f]||!c[f].hasOwnProperty("enabled")||c[f].enabled!==!0)continue;"function"==typeof this.plugins[f].enable&&this.plugins[f].enable();delete b.disabled_plugins[f]}if("function"==typeof this.plugins[f].init)try{this.plugins[f].init(c)}catch(h){BOOMR.addError(err,f+".init")}}for(e=0;e<g.length;e++)void 0!==c[g[e]]&&(b[g[e]]=c[g[e]]);if(b.handlers_attached)return this;if(!b.onloadfired&&(void 0===c.autorun||c.autorun!==!1))if(d.readyState&&"complete"===d.readyState){BOOMR.loadedLate=!0;this.setImmediate(BOOMR.page_ready_autorun,null,null,BOOMR)}else a.onpagehide||null===a.onpagehide?BOOMR.utils.addListener(a,"pageshow",BOOMR.page_ready_autorun):BOOMR.utils.addListener(a,"load",BOOMR.page_ready_autorun);BOOMR.utils.addListener(a,"DOMContentLoaded",function(){b.fireEvent("dom_loaded")});!function(){var c,e;if(void 0!==i){BOOMR.utils.addListener(d,i,function(){b.fireEvent("visibility_changed")});b.lastVisibilityState=BOOMR.visibilityState();BOOMR.subscribe("visibility_changed",function(){var a=BOOMR.visibilityState();BOOMR.lastVisibilityEvent[a]=BOOMR.now();if("prerender"===b.lastVisibilityState&&"prerender"!==a){BOOMR.addVar("vis.pre","1");b.fireEvent("prerender_to_visible")}b.lastVisibilityState=a})}BOOMR.utils.addListener(d,"mouseup",b.xb_handler("click"));c=d.getElementsByTagName("form");for(e=0;e<c.length;e++)BOOMR.utils.addListener(c[e],"submit",b.xb_handler("form_submit"));a.onpagehide||null===a.onpagehide||BOOMR.utils.addListener(a,"unload",function(){BOOMR.window=a=null})}();b.handlers_attached=!0;return this},page_ready_autorun:function(a){b.autorun&&BOOMR.page_ready(a)},page_ready:function(c){c||(c=a.event);c||(c={name:"load"});if(b.onloadfired)return this;b.fireEvent("page_ready",c);b.onloadfired=!0;return this},setImmediate:function(b,c,d,e){var f,g;if("undefined"!=typeof Error){g=new Error;g=g.stack?g.stack.replace(/^Error/,"Called"):void 0}f=function(){b.call(e||null,c,d||{},g);f=null};a.setImmediate?a.setImmediate(f):a.msSetImmediate?a.msSetImmediate(f):a.webkitSetImmediate?a.webkitSetImmediate(f):a.mozSetImmediate?a.mozSetImmediate(f):setTimeout(f,10)},now:function(){try{var a=BOOMR.getPerformance();if(a&&"function"==typeof a.now)return function(){return Math.round(a.now()+a.timing.navigationStart)}}catch(b){}return Date.now||function(){return(new Date).getTime()}}(),getPerformance:function(){try{if(BOOMR.window)return"performance"in BOOMR.window&&BOOMR.window.performance?BOOMR.window.performance:BOOMR.window.msPerformance||BOOMR.window.webkitPerformance||BOOMR.window.mozPerformance}catch(a){}},visibilityState:void 0===h?function(){return"visible"}:function(){return d[h]},lastVisibilityEvent:{},registerEvent:function(a){if(b.events.hasOwnProperty(a))return this;b.events[a]=[];return this},fireEvent:function(a,c){return b.fireEvent(a,c)},subscribe:function(c,d,e,f){var g,h,i;c=c.toLowerCase();b.events.hasOwnProperty(c)||(b.events[c]=[]);i=b.events[c];for(g=0;g<i.length;g++){h=i[g];if(h&&h.fn===d&&h.cb_data===e&&h.scope===f)return this}i.push({fn:d,cb_data:e||{},scope:f||null});"page_ready"===c&&b.onloadfired&&b.autorun&&this.setImmediate(d,null,e,f);"page_unload"!==c&&"before_unload"!==c||function(){var g,h=i.length;g=function(g){d&&d.call(f,g||a.event,e);"page_unload"===c&&h===b.events[c].length&&BOOMR.real_sendBeacon()};"page_unload"===c&&(a.onpagehide||null===a.onpagehide?BOOMR.utils.addListener(a,"pagehide",g):BOOMR.utils.addListener(a,"unload",g));BOOMR.utils.addListener(a,"beforeunload",g)}();return this},addError:function(a,c,d){var e,f=BOOMR.plugins.Errors;if(f&&f.is_supported())if("string"==typeof a)f.send({message:a,extra:d,functionName:c,noStack:!0},f.VIA_APP,f.SOURCE_BOOMERANG);else{"string"==typeof c&&(a.functionName=c);void 0!==d&&(a.extra=d);f.send(a,f.VIA_APP,f.SOURCE_BOOMERANG)}else{if("string"!=typeof a){e=String(a);e.match(/^\[object/)&&(e=a.name+": "+(a.description||a.message).replace(/\r\n$/,""));a=e}void 0!==c&&(a="["+c+":"+BOOMR.now()+"] "+a);d&&(a+=":: "+d);b.errors[a]?b.errors[a]++:b.errors[a]=1}},isCrossOriginError:function(a){return"SecurityError"===a.name||"TypeError"===a.name&&"Permission denied"===a.message||"Error"===a.name&&a.message&&a.message.match(/^(Permission|Access is) denied/)},addVar:function(a,c){if("string"==typeof a)b.vars[a]=c;else if("object"==typeof a){var d,e=a;for(d in e)e.hasOwnProperty(d)&&(b.vars[d]=e[d])}return this},removeVar:function(a){var c,d;if(!arguments.length)return this;d=1===arguments.length&&"[object Array]"===Object.prototype.toString.apply(a)?a:arguments;for(c=0;c<d.length;c++)b.vars.hasOwnProperty(d[c])&&delete b.vars[d[c]];return this},hasVar:function(a){return b.vars.hasOwnProperty(a)},setVarPriority:function(a,c){if("number"!=typeof c||1!==Math.abs(c))return this;b.varPriority[c][a]=1;return this},requestStart:function(a){var b=BOOMR.now();BOOMR.plugins.RT.startTimer("xhr_"+a,b);return{loaded:function(c){BOOMR.responseEnd(a,b,c)}}},readyToSend:function(){var a;for(a in this.plugins)if(this.plugins.hasOwnProperty(a)){if(b.disabled_plugins[a])continue;if("function"==typeof this.plugins[a].readyToSend&&this.plugins[a].readyToSend()===!1){BOOMR.debug("Plugin "+a+" is not ready to send");return!1}}return!0},responseEnd:function(a,c,d){if(BOOMR.readyToSend())if("object"==typeof a&&a.url)b.fireEvent("xhr_load",a);else{BOOMR.real_sendBeacon();BOOMR.addVar("xhr.pg",a);BOOMR.plugins.RT.startTimer("xhr_"+a,c);b.fireEvent("xhr_load",{name:"xhr_"+a,data:d})}else if("object"!=typeof a){var e=a+"|"+(BOOMR.now()-c);b.vars.qt?b.vars.qt+=","+e:b.vars.qt=e}else BOOMR.debug("Attempt to send a resource before a security token")},uninstrumentXHR:function(){},instrumentXHR:function(){},sendBeacon:function(a){a&&(b.beacon_url_override=a);if(!b.beaconQueued){b.beaconQueued=!0;BOOMR.setImmediate(BOOMR.real_sendBeacon,null,null,BOOMR)}return!0},real_sendBeacon:function(){var c,e,f,g,h,i=[],j=[],k=1,l={},m={},n=[],o=[];if(!b.beaconQueued)return!1;b.beaconQueued=!1;BOOMR.debug("Checking if we can send beacon");for(c in this.plugins)if(this.plugins.hasOwnProperty(c)){if(b.disabled_plugins[c])continue;if(!this.plugins[c].is_complete()){BOOMR.debug("Plugin "+c+" is not complete, deferring beacon send");return!1}}var p=BOOMR.utils.inArray(b.vars["http.initiator"],BOOMR.constants.BEACON_TYPE_SPAS),q=p?d.URL:d.URL.replace(/#.*/,"");b.vars.pgu=BOOMR.utils.cleanupURL(q);b.vars.u&&!p||(b.vars.u=b.vars.pgu);b.vars.pgu===b.vars.u&&delete b.vars.pgu;b.vars.v=BOOMR.version;if(BOOMR.visibilityState()){b.vars["vis.st"]=BOOMR.visibilityState();BOOMR.lastVisibilityEvent.visible&&(b.vars["vis.lv"]=BOOMR.now()-BOOMR.lastVisibilityEvent.visible);BOOMR.lastVisibilityEvent.hidden&&(b.vars["vis.lh"]=BOOMR.now()-BOOMR.lastVisibilityEvent.hidden)}b.vars["ua.plt"]=navigator.platform;b.vars["ua.vnd"]=navigator.vendor;a!==window&&(b.vars.if="");for(c in b.errors)b.errors.hasOwnProperty(c)&&i.push(c+(b.errors[c]>1?" (*"+b.errors[c]+")":""));i.length>0&&(b.vars.errors=i.join("\n"));b.errors={};b.fireEvent("before_beacon",b.vars);b.beacon_url=b.beacon_url_override||b.beacon_url;BOOMR.debug("Ready to send beacon: "+BOOMR.utils.objectToString(b.vars));if(!b.beacon_url){BOOMR.debug("No beacon URL, so skipping.");return!0}for(c in b.vars)if(b.vars.hasOwnProperty(c)){l[c]=b.vars[c];m[c]=b.vars[c]}n=this.getVarsOfPriority(m,-1);o=this.getVarsOfPriority(m,1);j=n.concat(this.getVarsOfPriority(m,0),o);g=j.join("&");e=b.beacon_url+(b.beacon_url.indexOf("?")>-1?"&":"?")+g;("POST"===b.beacon_type||e.length>BOOMR.constants.MAX_GET_LENGTH)&&(k=!1);BOOMR.removeVar("qt");b.fireEvent("onbeacon",l);if(0===j.length)return this;BOOMR.orig_XMLHttpRequest||BOOMR.window&&BOOMR.window.XMLHttpRequest||(k=!0);if(k){f=new Image;f.src=e;if(b.secondary_beacons)for(c=0;c<b.secondary_beacons.length;c++){e=b.secondary_beacons[c]+"?"+g;f=new Image;f.src=e}}else{h=new(BOOMR.orig_XMLHttpRequest||BOOMR.window.XMLHttpRequest);h.open("POST",b.beacon_url);h.setRequestHeader("Content-type","application/x-www-form-urlencoded");if(void 0!==b.beacon_auth_token){void 0===b.beacon_auth_key&&(b.beacon_auth_key="Authorization");h.setRequestHeader(b.beacon_auth_key,b.beacon_auth_token)}h.send(g)}return!0},getVarsOfPriority:function(a,c){var d,e=[];if(0!==c){for(d in b.varPriority[c])if(b.varPriority[c].hasOwnProperty(d)&&a.hasOwnProperty(d)){e.push(this.getUriEncodedVar(d,a[d]));delete a[d]}}else for(d in a)a.hasOwnProperty(d)&&e.push(this.getUriEncodedVar(d,a[d]));return e},getUriEncodedVar:function(a,b){return encodeURIComponent(a)+"="+(void 0===b||null===b?"":encodeURIComponent(b))},getResourceTiming:function(a,b){var c;try{if(BOOMR.getPerformance()&&"function"==typeof BOOMR.getPerformance().getEntriesByName){c=BOOMR.getPerformance().getEntriesByName(a);if(c&&c.length){"function"==typeof b&&c.sort(b);return c[c.length-1]}}}catch(d){}}};delete BOOMR_start;if("number"==typeof BOOMR_lstart){c.t_lstart=BOOMR_lstart;delete BOOMR_lstart}else"number"==typeof BOOMR.window.BOOMR_lstart&&(c.t_lstart=BOOMR.window.BOOMR_lstart);"number"==typeof BOOMR.window.BOOMR_onload&&(c.t_onload=BOOMR.window.BOOMR_onload);!function(){var a;"object"==typeof console&&void 0!==console.log&&(c.log=function(a,b,c){console.log(c+": ["+b+"] "+a)});a=function(a){return function(b,c){this.log(b,a,"boomerang"+(c?"."+c:""));return this}};c.debug=a("debug");c.info=a("info");c.warn=a("warn");c.error=a("error")}();!function(){var a;for(a in c)c.hasOwnProperty(a)&&(BOOMR[a]=c[a]);BOOMR.xhr_excludes||(BOOMR.xhr_excludes={})}();g("onBoomerangLoaded",{BOOMR:BOOMR},!0)}}(window);!function(){function a(a){if(!a)return null;a.href=a.href;var b=a.pathname;"/"!==b.charAt(0)&&(b="/"+b);return b}function b(b){return!(!b.href||!b.href.match(/^(about:|javascript:|data:)/i))||(BOOMR.xhr_excludes.hasOwnProperty(b.href)||BOOMR.xhr_excludes.hasOwnProperty(b.hostname)||BOOMR.xhr_excludes.hasOwnProperty(a(b)))}function c(){this.watch=0;this.timer=null;this.pending_events=[]}function d(){BOOMR.subscribe("click",function(){if(!l){var a={timing:{},initiator:"click"};if(BOOMR.orig_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest!==BOOMR.window.XMLHttpRequest){a.timing.requestStart=BOOMR.now();i.addEvent(a)}}})}function e(){if(!BOOMR.proxy_XMLHttpRequest||BOOMR.proxy_XMLHttpRequest!==BOOMR.window.XMLHttpRequest)if(BOOMR.proxy_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest===BOOMR.window.XMLHttpRequest){BOOMR.window.XMLHttpRequest=BOOMR.proxy_XMLHttpRequest;c.start()}else{BOOMR.orig_XMLHttpRequest=BOOMR.window.XMLHttpRequest;c.start();d();BOOMR.proxy_XMLHttpRequest=function(){var a,c,d,e={timing:{},initiator:"xhr"};a=new BOOMR.orig_XMLHttpRequest;c=a.open;d=a.send;a.open=function(d,f,g){function loadFinished(){var a,b,c=!1;if(!e.timing.loadEventEnd){e.status&&BOOMR.fireEvent("onxhrerror",e);e.timing.loadEventEnd=BOOMR.now();a=BOOMR.getResourceTiming(e.url,function(a,b){return a.responseEnd-b.responseEnd});if(a){b=BOOMR.getPerformance().timing.navigationStart;e.timing.loadEventEnd=BOOMR.now();if(0!==a.responseEnd&&Math.floor(b+a.responseEnd)<=e.timing.loadEventEnd){e.timing.responseEnd=Math.round(b+a.responseEnd);c=!0}c&&0!==a.responseStart&&(e.timing.responseStart=Math.round(b+a.responseStart));c&&0!==a.startTime&&(e.timing.requestStart=Math.round(b+a.startTime))}e.index>-1?i.load_finished(e.index,e.timing.responseEnd):n?i.sendResource(e):l&&!m||i.addEvent(e)}}function h(b,c){a.addEventListener(b,function(){if("readystatechange"===b){e.timing[o[a.readyState]]=BOOMR.now();if(4===a.readyState&&0!==a.status){(a.status<200||a.status>=400)&&(e.status=a.status);loadFinished()}}else{e.status=void 0===c?a.status:c;loadFinished()}},!1)}j.href=f;if(b(j))return c.apply(a,arguments);void 0===g&&(g=!0);l&&i.watch&&!n&&i.add_event_resource(e);g&&h("readystatechange");h("load");h("timeout",q);h("error",s);h("abort",r);e.url=j.href;e.method=d;delete e.status;g||(e.synchronous=!0);try{return c.apply(a,arguments)}catch(k){e.status=t;loadFinished()}};a.send=function(){e.timing.requestStart=BOOMR.now();if(void 0===e.status||e.status!==t)return d.apply(a,arguments)};a.resource=e;return a};BOOMR.proxy_XMLHttpRequest.prototype=BOOMR.orig_XMLHttpRequest.prototype;BOOMR.window.XMLHttpRequest=BOOMR.proxy_XMLHttpRequest}}function f(){BOOMR.orig_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest!==BOOMR.window.XMLHttpRequest&&(BOOMR.window.XMLHttpRequest=BOOMR.orig_XMLHttpRequest)}function g(a){a.initiator="xhr";BOOMR.responseEnd(a)}var h,i,j,k,l=!1,m=!1,n=!1,o=["uninitialized","open","responseStart","domInteractive","responseEnd"],p=1e3,q=-1001,r=-999,s=-998,t=-997,u=["xmlhttprequest","script"];if(window.XMLHttpRequest&&(new XMLHttpRequest).addEventListener){BOOMR=window.BOOMR||{};if(!BOOMR.plugins.AutoXHR){c.stop=function(){if(c.observer&&c.observer.observer){c.observer.observer.disconnect();c.observer=null}};c.start=function(){c.observer=BOOMR.utils.addObserver(h,{childList:!0,attributes:!0,subtree:!0,attributeFilter:["src","href"]},null,i.mutation_cb,null,i);BOOMR.subscribe("page_unload",c.stop,null,c)};c.prototype.addEvent=function(a){var b,d,e={type:a.initiator,resource:a,nodes_to_wait:0,resources:[],complete:!1},f=this.pending_events.length;for(b=f-1;b>=0;b--)if(this.pending_events[b]&&!this.pending_events[b].complete){d=this.pending_events[b];break}if(d)if("click"===d.type){if(0===d.nodes_to_wait||!d.resource.url){this.pending_events[b]=void 0;return null}}else if("xhr"===d.type){if("click"===e.type)return null}else if(BOOMR.utils.inArray(d.type,BOOMR.constants.BEACON_TYPE_SPAS)&&"xhr"===e.type)return null;this.watch++;this.pending_events.push(e);if(c.observer){BOOMR.utils.inArray(e.type,BOOMR.constants.BEACON_TYPE_SPAS)?this.setTimeout(p,f):this.setTimeout(50,f);return f}if(BOOMR.utils.inArray(e.type,BOOMR.constants.BEACON_TYPE_SPAS)){c.start();this.setTimeout(p,f);return f}a.url&&a.timing.loadEventEnd&&this.sendEvent(f);return null};c.prototype.sendEvent=function(a){var b=this.pending_events[a],c=this;if(b&&!b.complete){b.complete=!0;this.watch--;this.clearTimeout();if(BOOMR.readyToSend()){b.resource.resources=b.resources;"spa"===b.type&&0===b.resources.length&&(b.resource.timing.loadEventEnd=BOOMR.now()-p);this.sendResource(b.resource,a)}else setTimeout(function(){c.sendEvent(a)},5e3)}};c.prototype.sendResource=function(a,b){var c=this,d=a.timing?a.timing.requestStart:void 0,e=function(e){e&&(a.timing.loadEventEnd=BOOMR.now());if(BOOMR.plugins.ResourceTiming&&BOOMR.plugins.ResourceTiming.is_supported()&&a.timing&&a.timing.requestStart){var f=BOOMR.plugins.ResourceTiming.getCompressedResourceTiming(a.timing.requestStart,a.timing.loadEventEnd);BOOMR.addVar("restiming",JSON.stringify(f))}a.onComplete&&a.onComplete();BOOMR.utils.inArray(a.initiator,BOOMR.constants.BEACON_TYPE_SPAS)&&c.calculateSpaTimings(a);BOOMR.responseEnd(a,d,a);b&&(c.pending_events[b]=void 0)};if(a.wait)a.waitComplete=function(){e(!0)};else{if(BOOMR.utils.inArray(a.initiator,BOOMR.constants.BEACON_TYPE_SPAS)&&h&&h.readyState&&"complete"!==h.readyState){BOOMR.window.addEventListener("load",function(){e(!0)});return}e(!1)}};c.prototype.calculateSpaTimings=function(a){var b=BOOMR.getPerformance();if(b&&b.timing)if("spa_hard"===a.initiator){a.timing.responseEnd=b.timing.responseStart;a.timing.fetchStart=b.timing.fetchStart}else{if(!BOOMR.plugins.ResourceTiming)return;var c=BOOMR.plugins.ResourceTiming.getFilteredResourceTiming(a.timing.requestStart,a.timing.loadEventEnd,k.spaBackEndResources),d=Math.round(a.timing.loadEventEnd-a.timing.requestStart);if(!c||!c.length){BOOMR.plugins.ResourceTiming.is_supported()&&(a.timers={t_resp:0,t_page:d,t_done:d});return}var e=Math.round(BOOMR.plugins.ResourceTiming.calculateResourceTimingUnion(c)),f=d-e;if(e<0||d<0)return;a.timers={t_resp:e,t_page:f,t_done:d}}};c.prototype.setTimeout=function(a,b){var c=this;if(a){this.clearTimeout();this.timer=setTimeout(function(){c.timedout(b)},a)}};c.prototype.timedout=function(a){this.clearTimeout();var b=this.pending_events[a];if(b&&BOOMR.utils.inArray(b.type,BOOMR.constants.BEACON_TYPE_SPAS.concat("xhr")))"xhr"===b.type?this.sendEvent(a):BOOMR.utils.inArray(b.type,BOOMR.constants.BEACON_TYPE_SPAS)&&0===b.nodes_to_wait&&this.sendEvent(a);else{this.watch>0&&this.watch--;this.pending_events[a]=void 0}};c.prototype.clearTimeout=function(){if(this.timer){clearTimeout(this.timer);this.timer=null}};c.prototype.load_cb=function(a,b){var c,d,e=BOOMR.now();c=a.target||a.srcElement;if(c&&c._bmr){d=c._bmr.idx;b=void 0!==b?b:c._bmr.res||0;if(!c._bmr.end[b]){c._bmr.end[b]=e;this.load_finished(d,e)}}};c.prototype.load_finished=function(a,b){var c=this.pending_events[a];if(c){c.nodes_to_wait--;if(0===c.nodes_to_wait){c.resource.timing.loadEventEnd=b||BOOMR.now();BOOMR.utils.inArray(c.type,BOOMR.constants.BEACON_TYPE_SPAS)?this.setTimeout(p,a):this.sendEvent(a)}}};c.prototype.wait_for_node=function(a,c){var d,e,f,g,h,i,k=this,m=!1,n=!1;if(a.nodeName.match(/^(IMG|SCRIPT|IFRAME)$/)||"LINK"===a.nodeName&&a.rel&&a.rel.match(/\<stylesheet\>/i)){a._bmr&&a._bmr.res&&a._bmr.end[a._bmr.res]&&(n=!0);h=a.src||a.href;if("IMG"===a.nodeName){if(a.naturalWidth&&!n)return!1;if(""===a.getAttribute("src"))return!1}if(!h||h.match(/^(about:|javascript:|data:)/i))return!1;d=this.pending_events[c];if(!d)return!1;i=d.resources.length;a._bmr||(a._bmr={end:{}});d.urls||(d.urls={});if(d.urls[h])return!1;if("SCRIPT"===a.nodeName&&l)return!1;if(!d.resource.url&&("SCRIPT"===a.nodeName||"IMG"===a.nodeName)){j.href=h;if(b(j))return!1;d.resource.url=j.href}a._bmr.res=i;a._bmr.idx=c;a.addEventListener("load",function(a){k.load_cb(a,i)});a.addEventListener("error",function(a){k.load_cb(a,i)});d.nodes_to_wait++;d.resources.push(a);d.urls[h]=1;m=!0}else if(a.nodeType===Node.ELEMENT_NODE){e=a.getElementsByTagName("IMG");if(e&&e.length)for(f=0,g=e.length;f<g;f++)m|=this.wait_for_node(e[f],c)}return m};c.prototype.add_event_resource=function(a){var b,c=this.pending_events.length-1;if(c<0)return-1;b=this.pending_events[c];if(!b)return-1;if(!a)return-1;b.nodes_to_wait++;a.index=c;return c};c.prototype.mutation_cb=function(a){var b,c,d;if(!this.watch)return!0;b=this;c=this.pending_events.length-1;if(c<0||!this.pending_events[c])return!0;d=this.pending_events[c];void 0===d.interesting&&(d.interesting=!1);if(a&&a.length){d.resource.timing.domComplete=BOOMR.now();a.forEach(function(a){var e,f,g;if("attributes"===a.type)d.interesting|=b.wait_for_node(a.target,c);else if("childList"===a.type){f=a.addedNodes.length;for(e=0;e<f;e++)d.interesting|=b.wait_for_node(a.addedNodes[e],c);f=a.removedNodes.length;for(e=0;e<f;e++){g=a.removedNodes[e];"IFRAME"===g.nodeName&&g._bmr&&b.load_cb({target:g,type:"removed"})}}})}d.interesting||this.setTimeout(p,c);return!0};c.prototype.queue_is_empty=function(){if(0===this.pending_events.length)return!0;var a=this.pending_events.length-1;return!this.pending_events[a]||0===this.pending_events[a].nodes_to_wait};i=new c;k={spaBackEndResources:u};BOOMR.plugins.AutoXHR={is_complete:function(){return!0},init:function(a){var b;if(BOOMR.window&&BOOMR.window.document){h=BOOMR.window.document;j=BOOMR.window.document.createElement("A");BOOMR.utils.pluginConfig(k,a,"AutoXHR",["spaBackEndResources"]);BOOMR.instrumentXHR=e;BOOMR.uninstrumentXHR=f;m=a.instrument_xhr;if(BOOMR.plugins.SPA&&BOOMR.plugins.SPA.supported_frameworks){var c=BOOMR.plugins.SPA.supported_frameworks();for(b=0;b<c.length;b++){var d=c[b];if(a[d]&&a[d].enabled){l=!0;break}}}n=a.AutoXHR&&a.AutoXHR.alwaysSendXhr;if(n&&m&&BOOMR.xhr&&"function"==typeof BOOMR.xhr.stop){var i=BOOMR.xhr.stop(function(a){BOOMR.setImmediate(function b(){BOOMR.readyToSend()?g(a):setTimeout(b,1e3)})});if(i&&i.length){var o=function(){if(BOOMR.readyToSend())for(b=0;b<i.length;b++)g(i[b]);else setTimeout(o,1e3)};BOOMR.setImmediate(o)}}if(l){n||(m=!1);BOOMR.instrumentXHR()}else m?BOOMR.instrumentXHR():m===!1&&BOOMR.uninstrumentXHR();BOOMR.registerEvent("onxhrerror")}},getMutationHandler:function(){return i},getPathname:a,enableAutoXhr:function(){m=!0}}}}}();!function(){function a(a){BOOMR.debug(a,"History")}function b(){if(d.enabled)if(d.routeChangeInProgress)a("routeChangeInProgress, not triggering");else{a("routeChange triggered, sending route_change() event");d.routeChangeInProgress=!0;BOOMR.plugins.SPA.route_change()}else{a("Not enabled - we've missed a routeChange");d.hadMissedRouteChange=!0;d.routeChangeInProgress=!1}}function c(c){c||(c=BOOMR.window.history);var e={listen:c.listen,transitionTo:c.transitionTo,pushState:c.pushState,setState:c.setState,replaceState:c.replaceState,go:c.go};c.setState=function(){a("setState");b();e.setState.apply(this,arguments)};c.listen=function(){a("listen");b();e.listen.apply(this,arguments)};c.transitionTo=function(){a("transitionTo");b();e.transitionTo.apply(this,arguments)};c.pushState=function(c,d,f){a("pushState");b();e.pushState.apply(this,arguments)};c.replaceState=function(){a("replaceState");b();e.replaceState.apply(this,arguments)};c.go=function(){a("go");b();e.go.apply(this,arguments)};BOOMR.window.addEventListener("hashchange",function(){a("hashchange");b()});BOOMR.subscribe("onbeacon",function(){a("Beacon sending, resetting routeChangeInProgress.");d.routeChangeInProgress=!1});return!0}var d={auto:!1,enabled:!0,hooked:!1,routeHooked:!1,hadMissedRouteChange:!1,routeChangeInProgress:!1};if(!BOOMR.plugins.History&&void 0!==BOOMR.plugins.SPA&&void 0!==BOOMR.plugins.AutoXHR&&BOOMR.window&&BOOMR.window.history){BOOMR.plugins.SPA.register("History");BOOMR.plugins.History={is_complete:function(){return!0},hook:function(a,b,e){if(d.hooked)return this;if(c(a)){BOOMR.plugins.SPA.hook(b,e);d.hooked=!0}return this},init:function(a){BOOMR.utils.pluginConfig(d,a,"History",["auto","enabled"]);d.auto&&d.enabled&&this.hook(void 0,!1,{})},disable:function(){d.enabled=!1;return this},enable:function(){d.enabled=!0;if(d.hooked&&d.hadMissedRouteChange){d.hadMissedRouteChange=!1;BOOMR.plugins.SPA.route_change();d.routeChangeInProgress=!0;a("Hooked and hadMissedRouteChange sending route_change!")}return this}}}}();!function(){if(!BOOMR.plugins.NavigationTiming){var a={complete:!1,sendBeacon:function(){this.complete=!0;BOOMR.sendBeacon()},xhr_done:function(b){var c;if(b&&"spa_hard"===b.initiator)a.done(b);else if(b&&"spa"===b.initiator)a.sendBeacon();else{var d,e,f=(BOOMR.window,{});if(b){b.data&&(b=b.data);c=BOOMR.getPerformance();if(b.url&&c){d=BOOMR.getResourceTiming(b.url,function(a,b){return a.responseEnd-b.responseEnd});if(d){f={nt_red_st:d.redirectStart,nt_red_end:d.redirectEnd,nt_fet_st:d.fetchStart,nt_dns_st:d.domainLookupStart,nt_dns_end:d.domainLookupEnd,nt_con_st:d.connectStart,nt_con_end:d.connectEnd,nt_req_st:d.requestStart,nt_res_st:d.responseStart,nt_res_end:d.responseEnd};d.secureConnectionStart&&(f.nt_ssl_st=d.secureConnectionStart);for(e in f)if(f.hasOwnProperty(e)&&f[e]){f[e]+=c.timing.navigationStart;f[e]=Math.round(f[e])}}}if(b.timing){d=b.timing;f.nt_req_st||(f.nt_req_st=d.requestStart);f.nt_res_st||(f.nt_res_st=d.responseStart);f.nt_res_end||(f.nt_res_end=d.responseEnd);f.nt_domint=d.domInteractive;f.nt_domcomp=d.domComplete;f.nt_load_st=d.loadEventEnd;f.nt_load_end=d.loadEventEnd}for(e in f)f.hasOwnProperty(e)&&!f[e]&&delete f[e];BOOMR.addVar(f);try{a.addedVars.push.apply(a.addedVars,Object.keys(f))}catch(g){}a.sendBeacon()}}},done:function(){var b,c,d,e,f=BOOMR.window;if(this.complete)return this;a.addedVars=[];b=BOOMR.getPerformance();if(b&&b.timing&&b.navigation){BOOMR.info("This user agent supports NavigationTiming.","nt");c=b.navigation;d=b.timing;e={nt_red_cnt:c.redirectCount,nt_nav_type:c.type,nt_nav_st:d.navigationStart,nt_red_st:d.redirectStart,nt_red_end:d.redirectEnd,nt_fet_st:d.fetchStart,nt_dns_st:d.domainLookupStart,nt_dns_end:d.domainLookupEnd,nt_con_st:d.connectStart,nt_con_end:d.connectEnd,nt_req_st:d.requestStart,nt_res_st:d.responseStart,nt_res_end:d.responseEnd,
nt_domloading:d.domLoading,nt_domint:d.domInteractive,nt_domcontloaded_st:d.domContentLoadedEventStart,nt_domcontloaded_end:d.domContentLoadedEventEnd,nt_domcomp:d.domComplete,nt_load_st:d.loadEventStart,nt_load_end:d.loadEventEnd,nt_unload_st:d.unloadEventStart,nt_unload_end:d.unloadEventEnd};d.secureConnectionStart&&(e.nt_ssl_st=d.secureConnectionStart);d.msFirstPaint&&(e.nt_first_paint=d.msFirstPaint);BOOMR.addVar(e);try{a.addedVars.push.apply(a.addedVars,Object.keys(e))}catch(g){}}if(f.chrome&&f.chrome.loadTimes){d=f.chrome.loadTimes();if(d){e={nt_spdy:d.wasFetchedViaSpdy?1:0,nt_cinf:d.connectionInfo,nt_first_paint:d.firstPaintTime};BOOMR.addVar(e);try{a.addedVars.push.apply(a.addedVars,Object.keys(e))}catch(g){}}}a.sendBeacon()},clear:function(){if(a.addedVars&&a.addedVars.length>0){BOOMR.removeVar(a.addedVars);a.addedVars=[]}this.complete=!1},prerenderToVisible:function(){this.complete=!1;this.done()}};BOOMR.plugins.NavigationTiming={init:function(){if(!a.initialized){BOOMR.subscribe("page_ready",a.done,null,a);BOOMR.subscribe("prerender_to_visible",a.prerenderToVisible,null,a);BOOMR.subscribe("xhr_load",a.xhr_done,null,a);BOOMR.subscribe("before_unload",a.done,null,a);BOOMR.subscribe("onbeacon",a.clear,null,a);a.initialized=!0}return this},is_complete:function(){return!0}}}}();!function(){function a(a){var b,c,d,e,f,g,h,i,j={};for(b in a){c=b;for(d=0;d<n.xssBreakWords.length;d++)c=c.replace(n.xssBreakWords[d],"$1"+q+"$2");if(a.hasOwnProperty(b)){e=a[b];f=c.split("");h=j;for(d=0;d<f.length;d++){g=f[d];i=h[g];void 0===i?h=h[g]=d===f.length-1?e:{}:"string"==typeof i?h=h[g]={"|":i}:d===f.length-1?h[g]["|"]=e:h=h[g]}}}return j}function b(a,c){var d,e,f,g=0,h=[];for(d in a)a.hasOwnProperty(d)&&h.push(d);for(var i=0;i<h.length;i++){d=h[i];if("object"==typeof a[d]){e=b(a[d],!1);if(e){delete a[d];if(d===q){d=e.name;g++}else d+=e.name;a[d]=e.value}}g++}if(1===g){if(c){f={};f[d]=a[d];return f}return{name:d,value:a[d]}}return!!c&&a}function c(a,b){"number"!=typeof a&&(a=0);"number"!=typeof b&&(b=0);var c=Math.round(a?a:0),d=Math.round(b?b:0);return 0===c?0:c-d}function d(a){var b=0;try{a.location&&a.location.href;"performance"in a&&a.performance&&a.performance.timing&&a.performance.timing.navigationStart&&(b=a.performance.timing.navigationStart)}catch(c){}return b}function e(a,b,c,f){var g,h,i,j,k,l,m,n=[];void 0===b&&(b=!0);void 0===c&&(c=0);void 0===f&&(f=0);if(f>10)return n;try{i=d(a);if(a.frames)for(g=0;g<a.frames.length;g++){j=d(a.frames[g]);k=0;j>i&&(k=c+(j-i));n=n.concat(e(a.frames[g],!1,k,f+1))}try{a.location&&a.location.href;if(!("performance"in a&&a.performance&&"function"==typeof a.performance.getEntriesByType))return n}catch(q){return n}if(b){h=a.performance.getEntriesByType("navigation");if(h&&1===h.length){l=h[0];n.push({name:a.location.href,startTime:0,initiatorType:"html",redirectStart:l.redirectStart,redirectEnd:l.redirectEnd,fetchStart:l.fetchStart,domainLookupStart:l.domainLookupStart,domainLookupEnd:l.domainLookupEnd,connectStart:l.connectStart,secureConnectionStart:l.secureConnectionStart,connectEnd:l.connectEnd,requestStart:l.requestStart,responseStart:l.responseStart,responseEnd:l.responseEnd})}else if(a.performance.timing){m=a.performance.timing;0!==m.navigationStart&&m.responseEnd<=m.navigationStart+36e5&&n.push({name:a.location.href,startTime:0,initiatorType:"html",redirectStart:m.redirectStart?m.redirectStart-m.navigationStart:0,redirectEnd:m.redirectEnd?m.redirectEnd-m.navigationStart:0,fetchStart:m.fetchStart?m.fetchStart-m.navigationStart:0,domainLookupStart:m.domainLookupStart?m.domainLookupStart-m.navigationStart:0,domainLookupEnd:m.domainLookupEnd?m.domainLookupEnd-m.navigationStart:0,connectStart:m.connectStart?m.connectStart-m.navigationStart:0,secureConnectionStart:m.secureConnectionStart?m.secureConnectionStart-m.navigationStart:0,connectEnd:m.connectEnd?m.connectEnd-m.navigationStart:0,requestStart:m.requestStart?m.requestStart-m.navigationStart:0,responseStart:m.responseStart?m.responseStart-m.navigationStart:0,responseEnd:m.responseEnd?m.responseEnd-m.navigationStart:0})}}var o=a.performance.getEntriesByType("resource"),p=[];for(g=0;o&&g<o.length;g++){m=o[g];p.push({name:m.name,initiatorType:m.initiatorType,startTime:m.startTime+c,redirectStart:m.redirectStart?m.redirectStart+c:0,redirectEnd:m.redirectEnd?m.redirectEnd+c:0,fetchStart:m.fetchStart?m.fetchStart+c:0,domainLookupStart:m.domainLookupStart?m.domainLookupStart+c:0,domainLookupEnd:m.domainLookupEnd?m.domainLookupEnd+c:0,connectStart:m.connectStart?m.connectStart+c:0,secureConnectionStart:m.secureConnectionStart?m.secureConnectionStart+c:0,connectEnd:m.connectEnd?m.connectEnd+c:0,requestStart:m.requestStart?m.requestStart+c:0,responseStart:m.responseStart?m.responseStart+c:0,responseEnd:m.responseEnd?m.responseEnd+c:0})}n=n.concat(p)}catch(q){return n}return n}function f(a){return"number"==typeof a&&0!==a?a.toString(36):"string"==typeof a?a:""}function g(a){var b,c,d=["IMG","IFRAME"],e={},f=a.document;b=void 0!==a.pageXOffset?a.pageXOffset:(f.documentElement||f.body.parentNode||f.body).scrollLeft;c=void 0!==a.pageYOffset?a.pageYOffset:(f.documentElement||f.body.parentNode||f.body).scrollTop;d.forEach(function(a){var d,g,h,i=f.getElementsByTagName(a);for(g=0;g<i.length;g++){d=i[g];if(d&&d.src&&!e[d.src]){h=d.getBoundingClientRect();(h.height||d.offsetHeight)&&(h.width||d.offsetWidth)&&(e[d.src]=[d.offsetHeight,d.offsetWidth,Math.round(h.top+c),Math.round(h.left+b)])}}});return e}function h(a,b,c){var f,g,h=e(BOOMR.window,!0,0,0),i=d(BOOMR.window);if(!h||!h.length)return[];var j=[];for(f=0;f<h.length;f++){g=h[f];if(0!==g.name.indexOf("about:")&&0!==g.name.indexOf("javascript:")&&!(g.name.indexOf(BOOMR.url)>-1||g.name.indexOf(BOOMR.config_url)>-1||"function"==typeof BOOMR.getBeaconURL&&BOOMR.getBeaconURL()&&g.name.indexOf(BOOMR.getBeaconURL())>-1||a&&i+g.startTime<a)){if(b&&i+g.startTime>b)break;(void 0===c||"*"===c||!c.length||g.initiatorType&&BOOMR.utils.inArray(g.initiatorType,c))&&j.push(g)}}return j}function i(a){var b,c,d,e;if(a.encodedBodySize||a.decodedBodySize||a.transferSize){b=a.transferSize;c=a.encodedBodySize;d=a.decodedBodySize;e=[c,b?b-c:"_",d?d-c:0];return e.map(f).join(",").replace(/,+$/,"")}return""}function j(a,b){var c,d,e;if(a&&b)for(c=0;c<b.length;c++){e=b[c];if("string"==typeof e){d=a.indexOf(e);if(d!==-1){a=a.substr(0,d+e.length)+"...";break}}else e instanceof RegExp&&e.test(a)&&(a=a.replace(e,"$1")+"...")}return BOOMR.utils.cleanupURL(a,n.urlLimit)}function k(d,e){var k,l,m,p,q,u=h(d,e),v={},w={};if(!u||!u.length)return{};w=g(BOOMR.window);for(k=0;k<u.length;k++){l=u[k];m=o[l.initiatorType];void 0===m&&(m=0);q=m+[c(l.startTime,0),c(l.responseEnd,l.startTime),c(l.responseStart,l.startTime),c(l.requestStart,l.startTime),c(l.connectEnd,l.startTime),c(l.secureConnectionStart,l.startTime),c(l.connectStart,l.startTime),c(l.domainLookupEnd,l.startTime),c(l.domainLookupStart,l.startTime),c(l.redirectEnd,l.startTime),c(l.redirectStart,l.startTime)].map(f).join(",").replace(/,+$/,"");var x=i(l);""!==x&&(q+=r+t+x);p=j(l.name,n.trimUrls);void 0!==v[p]?v[p]+="|"+q:void 0!==w[p]?v[p]=r+s+w[p].map(f).join(",").replace(/,+$/,"")+"|"+q:v[p]=q}return b(a(v),!0)}function l(a){var b=[];if(!a||!a.length)return b;for(var c=0;c<a.length;c++){var d=a[c];c!==a.length-1&&d.fetchStart===a[c+1].fetchStart||b.push({fetchStart:d.fetchStart,responseEnd:d.responseStart||d.responseEnd})}return b}function m(a){var b;if(!a||!a.length)return 0;a.sort(function(a,b){return a.fetchStart!==b.fetchStart?a.fetchStart-b.fetchStart:(a.responseStart||a.responseEnd)-(b.responseStart||b.responseEnd)});var c=l(a),d=[],e=0;for(b=0;b<c.length;b++){var f=c[b];f.fetchStart<e&&(f.fetchStart=e);if(f.fetchStart<f.responseEnd){d.push(f);e=f.responseEnd}}var g=l(d),h=0;for(b=0;b<g.length;b++)h+=g[b].responseEnd-g[b].fetchStart;return h}var n;if(!BOOMR.plugins.ResourceTiming){var o={other:0,img:1,link:2,script:3,css:4,xmlhttprequest:5,html:6},p=[/(h)(ref)/gi,/(s)(rc)/gi,/(a)(ction)/gi],q="\n",r="*",s="0",t="1";n={complete:!1,sentNavBeacon:!1,initialized:!1,supported:!1,xhr_load:function(){if(!this.complete){this.complete=!0;BOOMR.sendBeacon()}},xssBreakWords:p,urlLimit:500,clearOnBeacon:!1,trimUrls:[],done:function(){var a;if(!this.sentNavBeacon&&"undefined"!=typeof JSON){BOOMR.removeVar("restiming");a=k();if(a){BOOMR.info("Client supports Resource Timing API","restiming");BOOMR.addVar({restiming:JSON.stringify(a)})}this.complete=!0;this.sentNavBeacon=!0;BOOMR.sendBeacon()}},onBeacon:function(a){var b=BOOMR.getPerformance();a.hasOwnProperty("restiming")&&BOOMR.removeVar("restiming");if(n.clearOnBeacon&&b){var c=b.clearResourceTimings||b.webkitClearResourceTimings;c&&"function"==typeof c&&c.call(b)}},prerenderToVisible:function(){this.sentNavBeacon=!1;this.done()}};BOOMR.plugins.ResourceTiming={init:function(a){var b=BOOMR.getPerformance();BOOMR.utils.pluginConfig(n,a,"ResourceTiming",["xssBreakWords","clearOnBeacon","urlLimit","trimUrls"]);if(n.initialized)return this;if(b&&"function"==typeof b.getEntriesByType){BOOMR.subscribe("page_ready",n.done,null,n);BOOMR.subscribe("prerender_to_visible",n.prerenderToVisible,null,n);BOOMR.subscribe("xhr_load",n.xhr_load,null,n);BOOMR.subscribe("onbeacon",n.onBeacon,null,n);BOOMR.subscribe("before_unload",n.done,null,n);n.supported=!0}else n.complete=!0;n.initialized=!0;return this},is_complete:function(){return!0},is_supported:function(){return n.initialized&&n.supported},getCompressedResourceTiming:k,getFilteredResourceTiming:h,calculateResourceTimingUnion:m}}}();!function(){var a;"object"==typeof navigator&&(a=navigator.connection||navigator.mozConnection||navigator.webkitConnection||navigator.msConnection);if(a){BOOMR.addVar("mob.ct",a.type);BOOMR.addVar("mob.bw",a.bandwidth);BOOMR.addVar("mob.mt",a.metered)}}();!function(){function a(a,b,c){var e,f,g;try{e=d.getElementsByTagName(a);f=e.length;if(b&&b.length){g={};g[b[0]]=f;if("function"==typeof c)try{e=BOOMR.utils.arrayFilter(e,c);e.length!==f&&(b.length>1?g[b[1]]=e.length:f+="/"+e.length)}catch(h){BOOMR.addError(err,"Memory.nodeList."+a+".filter")}}return g||f}catch(h){BOOMR.addError(h,"Memory.nodeList."+a);return 0}}function b(a,b,c){if(a)try{b()}catch(d){BOOMR.addError(err,"Memory.done."+c)}}var c,d,e,f,g,h,i,j={};if(!BOOMR.plugins.Memory){i={done:function(){if(c){BOOMR.removeVar("dom.res");b(!0,function(){var a,b,c={};if(j&&"function"==typeof j.getEntriesByType){a=j.getEntriesByType("resource");if(a&&a.length){BOOMR.addVar("dom.res",a.length);b=BOOMR.window.document.createElement("a");[].forEach.call(a,function(a){b.href=a.name;c[b.hostname]=!0});BOOMR.addVar("dom.doms",Object.keys(c).length)}}},"resources");e&&BOOMR.addVar({"mem.total":e.totalJSHeapSize,"mem.limit":e.jsHeapSizeLimit,"mem.used":e.usedJSHeapSize});b(f,function(){BOOMR.addVar({"scr.xy":f.width+"x"+f.height,"scr.bpp":f.colorDepth+"/"+(f.pixelDepth||"")});f.orientation&&BOOMR.addVar("scr.orn",f.orientation.angle+"/"+f.orientation.type);c.devicePixelRatio>1&&BOOMR.addVar("scr.dpx",c.devicePixelRatio);0===c.scrollX&&0===c.scrollY||BOOMR.addVar("scr.sxy",c.scrollX+"x"+c.scrollY)},"screen");b(g,function(){g.hardwareConcurrency&&BOOMR.addVar("cpu.cnc",g.hardwareConcurrency);g.maxTouchPoints&&BOOMR.addVar("scr.mtp",g.maxTouchPoints)},"navigator");b(h,function(){BOOMR.addVar("bat.lvl",h.level)},"battery");b(!0,function(){BOOMR.addVar({"dom.ln":a("*"),"dom.sz":d.documentElement.innerHTML.length});BOOMR.addVar(a("img",["dom.img","dom.img.ext"],function(a){return a.src&&!a.src.match(/^(?:about:|javascript:|data:|#)/)}));BOOMR.addVar(a("script",["dom.script","dom.script.ext"],function(a){return a.src&&!a.src.match(/^(?:about:|javascript:|#)/)}))},"dom")}}};BOOMR.plugins.Memory={init:function(){var a;try{c=BOOMR.window;d=c.document;j=BOOMR.getPerformance();a=c.console;f=c.screen;g=c.navigator;if(g&&g.battery)h=g.battery;else if(g&&g.getBattery){var b=g.getBattery();b&&"function"==typeof b.then?b.then(function(a){h=a}):BOOMR.addError("getBattery promise is not a function: "+JSON.stringify(b),"Memory.init")}}catch(k){BOOMR.addError(err,"Memory.init")}e=j&&j.memory?j.memory:a&&a.memory?a.memory:null;if(i.initialized)return this;i.initialized=!0;BOOMR.subscribe("before_beacon",i.done,null,i);return this},is_complete:function(){return!0}}}}();!function(){if(!BOOMR.plugins.CACHE_RELOAD){var a={url:""};BOOMR.plugins.CACHE_RELOAD={init:function(b){BOOMR.utils.pluginConfig(a,b,"CACHE_RELOAD",["url"]);if(!a.url)return this;var c=document.createElement("iframe");c.style.display="none";c.src=a.url;document.body.appendChild(c);return this},is_complete:function(){return!0}}}}();!function(){"use strict";function a(a,b){var c=(65535&a)+(65535&b);return(a>>16)+(b>>16)+(c>>16)<<16|65535&c}function b(a,b){return a<<b|a>>>32-b}function c(c,d,e,f,g,h){return a(b(a(a(d,c),a(f,h)),g),e)}function d(a,b,d,e,f,g,h){return c(b&d|~b&e,a,b,f,g,h)}function e(a,b,d,e,f,g,h){return c(b&e|d&~e,a,b,f,g,h)}function f(a,b,d,e,f,g,h){return c(b^d^e,a,b,f,g,h)}function g(a,b,d,e,f,g,h){return c(d^(b|~e),a,b,f,g,h)}function h(b,c){b[c>>5]|=128<<c%32;b[14+(c+64>>>9<<4)]=c;var h,i,j,k,l,m=1732584193,n=-271733879,o=-1732584194,p=271733878;for(h=0;h<b.length;h+=16){i=m;j=n;k=o;l=p;m=d(m,n,o,p,b[h],7,-680876936);p=d(p,m,n,o,b[h+1],12,-389564586);o=d(o,p,m,n,b[h+2],17,606105819);n=d(n,o,p,m,b[h+3],22,-1044525330);m=d(m,n,o,p,b[h+4],7,-176418897);p=d(p,m,n,o,b[h+5],12,1200080426);o=d(o,p,m,n,b[h+6],17,-1473231341);n=d(n,o,p,m,b[h+7],22,-45705983);m=d(m,n,o,p,b[h+8],7,1770035416);p=d(p,m,n,o,b[h+9],12,-1958414417);o=d(o,p,m,n,b[h+10],17,-42063);n=d(n,o,p,m,b[h+11],22,-1990404162);m=d(m,n,o,p,b[h+12],7,1804603682);p=d(p,m,n,o,b[h+13],12,-40341101);o=d(o,p,m,n,b[h+14],17,-1502002290);n=d(n,o,p,m,b[h+15],22,1236535329);m=e(m,n,o,p,b[h+1],5,-165796510);p=e(p,m,n,o,b[h+6],9,-1069501632);o=e(o,p,m,n,b[h+11],14,643717713);n=e(n,o,p,m,b[h],20,-373897302);m=e(m,n,o,p,b[h+5],5,-701558691);p=e(p,m,n,o,b[h+10],9,38016083);o=e(o,p,m,n,b[h+15],14,-660478335);n=e(n,o,p,m,b[h+4],20,-405537848);m=e(m,n,o,p,b[h+9],5,568446438);p=e(p,m,n,o,b[h+14],9,-1019803690);o=e(o,p,m,n,b[h+3],14,-187363961);n=e(n,o,p,m,b[h+8],20,1163531501);m=e(m,n,o,p,b[h+13],5,-1444681467);p=e(p,m,n,o,b[h+2],9,-51403784);o=e(o,p,m,n,b[h+7],14,1735328473);n=e(n,o,p,m,b[h+12],20,-1926607734);m=f(m,n,o,p,b[h+5],4,-378558);p=f(p,m,n,o,b[h+8],11,-2022574463);o=f(o,p,m,n,b[h+11],16,1839030562);n=f(n,o,p,m,b[h+14],23,-35309556);m=f(m,n,o,p,b[h+1],4,-1530992060);p=f(p,m,n,o,b[h+4],11,1272893353);o=f(o,p,m,n,b[h+7],16,-155497632);n=f(n,o,p,m,b[h+10],23,-1094730640);m=f(m,n,o,p,b[h+13],4,681279174);p=f(p,m,n,o,b[h],11,-358537222);o=f(o,p,m,n,b[h+3],16,-722521979);n=f(n,o,p,m,b[h+6],23,76029189);m=f(m,n,o,p,b[h+9],4,-640364487);p=f(p,m,n,o,b[h+12],11,-421815835);o=f(o,p,m,n,b[h+15],16,530742520);n=f(n,o,p,m,b[h+2],23,-995338651);m=g(m,n,o,p,b[h],6,-198630844);p=g(p,m,n,o,b[h+7],10,1126891415);o=g(o,p,m,n,b[h+14],15,-1416354905);n=g(n,o,p,m,b[h+5],21,-57434055);m=g(m,n,o,p,b[h+12],6,1700485571);p=g(p,m,n,o,b[h+3],10,-1894986606);o=g(o,p,m,n,b[h+10],15,-1051523);n=g(n,o,p,m,b[h+1],21,-2054922799);m=g(m,n,o,p,b[h+8],6,1873313359);p=g(p,m,n,o,b[h+15],10,-30611744);o=g(o,p,m,n,b[h+6],15,-1560198380);n=g(n,o,p,m,b[h+13],21,1309151649);m=g(m,n,o,p,b[h+4],6,-145523070);p=g(p,m,n,o,b[h+11],10,-1120210379);o=g(o,p,m,n,b[h+2],15,718787259);n=g(n,o,p,m,b[h+9],21,-343485551);m=a(m,i);n=a(n,j);o=a(o,k);p=a(p,l)}return[m,n,o,p]}function i(a){var b,c="";for(b=0;b<32*a.length;b+=8)c+=String.fromCharCode(a[b>>5]>>>b%32&255);return c}function j(a){var b,c=[];c[(a.length>>2)-1]=void 0;for(b=0;b<c.length;b+=1)c[b]=0;for(b=0;b<8*a.length;b+=8)c[b>>5]|=(255&a.charCodeAt(b/8))<<b%32;return c}function k(a){return i(h(j(a),8*a.length))}function l(a,b){var c,d,e=j(a),f=[],g=[];f[15]=g[15]=void 0;e.length>16&&(e=h(e,8*a.length));for(c=0;c<16;c+=1){f[c]=909522486^e[c];g[c]=1549556828^e[c]}d=h(f.concat(j(b)),512+8*b.length);return i(h(g.concat(d),640))}function m(a){var b,c,d="0123456789abcdef",e="";for(c=0;c<a.length;c+=1){b=a.charCodeAt(c);e+=d.charAt(b>>>4&15)+d.charAt(15&b)}return e}function n(a){return unescape(encodeURIComponent(a))}function o(a){return k(n(a))}function p(a){return m(o(a))}function q(a,b){return l(n(a),n(b))}function r(a,b){return m(q(a,b))}function s(a,b,c){return b?c?q(b,a):r(b,a):c?o(a):p(a)}if(!BOOMR.utils||!BOOMR.utils.md5){BOOMR.utils=BOOMR.utils||{};BOOMR.utils.MD5=s}}();!function(){if(!BOOMR.utils||!BOOMR.utils.Compression){var a=BOOMR.utils.Compression={};a.jsUrl=function(b){function c(a){if(!/[^\w-.]/.test(a))return a;a=a.replace(/[^\w-.]/g,function(a){if("$"===a)return"!";a=a.charCodeAt(0);return a<256?"*"+("00"+a.toString(16)).slice(-2):"**"+("0000"+a.toString(16)).slice(-4)});return a}var d=[];switch(typeof b){case"number":return isFinite(b)?"~"+b:"~null";case"string":return"~'"+c(b);case"boolean":return"~"+b;case"object":if(!b)return"~null";if(Array.isArray(b)){for(var e=0;e<b.length;e++)e in b&&(d[e]=a.jsUrl(b[e])||"~null");return"~("+(d.join("")||"~")+")"}for(var f in b)if(b.hasOwnProperty(f)){var g=a.jsUrl(b[f]);g&&d.push(c(f)+g)}return"~("+d.sort().join("~")+")";default:return}}}}();Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});!function(a,b){"use strict";a.ErrorStackParser=b()}(this,function(){"use strict";function a(a,b,c){if("function"==typeof Array.prototype.map)return a.map(b,c);for(var d=new Array(a.length),e=0;e<a.length;e++)d[e]=b.call(c,a[e]);return d}function b(a,b,c){if("function"==typeof Array.prototype.filter)return a.filter(b,c);for(var d=[],e=0;e<a.length;e++)b.call(c,a[e])&&d.push(a[e]);return d}var c=/(^|@)\S+\:\d+/,d=/^\s*at .*(\S+\:\d+|\(native\))/m,e=/^(eval@)?(\[native code\])?$/;return{parse:function(a){if(void 0!==a.stacktrace||void 0!==a["opera#sourceloc"])return this.parseOpera(a);if(a.stack&&a.stack.match(d))return this.parseV8OrIE(a);if(a.stack)return this.parseFFOrSafari(a);throw new Error("Cannot parse given Error object")},extractLocation:function(a){if(a.indexOf(":")===-1)return[a];var b=a.replace(/[\(\)\s]/g,"").split(":"),c=b.pop(),d=b[b.length-1];if(!isNaN(parseFloat(d))&&isFinite(d)){var e=b.pop();return[b.join(":"),e,c]}return[b.join(":"),c,void 0]},parseV8OrIE:function(c){return a(b(c.stack.split("\n"),function(a){return!!a.match(d)},this),function(a){a.indexOf("(eval ")>-1&&(a=a.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var b=a.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),c=this.extractLocation(b.pop());return{functionName:b.join(" ")||void 0,fileName:"eval"===c[0]?void 0:c[0],lineNumber:c[1],columnNumber:c[2],source:a}},this)},parseFFOrSafari:function(c){return a(b(c.stack.split("\n"),function(a){return!a.match(e)},this),function(a){a.indexOf(" > eval")>-1&&(a=a.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1"));if(a.indexOf("@")===-1&&a.indexOf(":")===-1)return{functionName:a};var b=a.split("@"),c=this.extractLocation(b.pop());return{functionName:b.join("@")||void 0,fileName:c[0],lineNumber:c[1],columnNumber:c[2],source:a}},this)},parseOpera:function(a){return!a.stacktrace||a.message.indexOf("\n")>-1&&a.message.split("\n").length>a.stacktrace.split("\n").length?this.parseOpera9(a):a.stack?this.parseOpera11(a):this.parseOpera10(a)},parseOpera9:function(a){for(var b=/Line (\d+).*script (?:in )?(\S+)/i,c=a.message.split("\n"),d=[],e=2,f=c.length;e<f;e+=2){var g=b.exec(c[e]);g&&d.push({fileName:g[2],lineNumber:g[1],source:c[e]})}return d},parseOpera10:function(a){for(var b=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,c=a.stacktrace.split("\n"),d=[],e=0,f=c.length;e<f;e+=2){var g=b.exec(c[e]);g&&d.push({functionName:g[3]||void 0,fileName:g[2],lineNumber:g[1],source:c[e]})}return d},parseOpera11:function(d){return a(b(d.stack.split("\n"),function(a){return!!a.match(c)&&!a.match(/^Error created at/)},this),function(a){var b,c=a.split("@"),d=this.extractLocation(c.pop()),e=c.shift()||"",f=e.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;e.match(/\(([^\)]*)\)/)&&(b=e.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));return{functionName:f,args:void 0===b||"[arguments not available]"===b?void 0:b.split(","),fileName:d[0],lineNumber:d[1],columnNumber:d[2],source:a}},this)}}});!function(){function a(a){a=a||{};"number"==typeof a.count||"string"==typeof a.count?this.count=parseInt(a.count,10):this.count=1;"number"==typeof a.timestamp?this.timestamp=a.timestamp:this.timestamp=BOOMR.now();"number"!=typeof a.code&&"string"!=typeof a.code||(this.code=parseInt(a.code,10));"string"==typeof a.message&&(this.message=a.message);"string"==typeof a.functionName&&(this.functionName=a.functionName);"string"==typeof a.fileName&&(this.fileName=a.fileName);"number"!=typeof a.lineNumber&&"string"!=typeof a.lineNumber||(this.lineNumber=parseInt(a.lineNumber,10));"number"!=typeof a.columnNumber&&"string"!=typeof a.columnNumber||(this.columnNumber=parseInt(a.columnNumber,10));"string"==typeof a.stack&&(this.stack=a.stack);"string"==typeof a.type&&(this.type=a.type);void 0!==a.extra&&(this.extra=a.extra);this.source="number"==typeof a.source||"string"==typeof a.source?parseInt(a.source,10):BOOMR.plugins.Errors.SOURCE_APP;"number"!=typeof a.via&&"string"!=typeof a.via||(this.via=parseInt(a.via,10));Array.isArray(a.frames)?this.frames=a.frames:this.frames=[];Array.isArray(a.events)?this.events=a.events:this.events=[]}var b;if(!BOOMR.plugins.Errors){var c=["BOOMR_addError","BOOMR_plugins_errors_wrap"],d=5e3;a.prototype.equals=function(a){return"object"==typeof a&&(this.code===a.code&&(this.message===a.message&&(this.functionName===a.functionName&&(this.fileName===a.fileName&&(this.lineNumber===a.lineNumber&&(this.columnNumber===a.columnNumber&&(this.stack===a.stack&&(this.type===a.type&&this.source===a.source))))))))};a.fromError=function(b,e,f){var g,h,i,j,k=!1,l=BOOMR.now();if(!b)return null;if(b.stack){b.stack.length>d&&(b.stack=b.stack.substr(0,d));h=ErrorStackParser.parse(b);if(h&&h.length){if(b.generatedStack){if(h.length>=4&&h[1].functionName&&h[1].functionName.indexOf("createStackForSend")!==-1){h=h.slice(3);k=!0}if(h.length>=3&&h[0].functionName&&h[0].functionName.indexOf("createStackForSend")!==-1){h=h.slice(2);k=!0}if(h.length>=1&&h[0].functionName&&h[0].functionName.indexOf("BOOMR_plugins_errors")!==-1){h=h.slice(1);k=!0}}for(i=0;i<h.length;i++)if(h[i].functionName)for(j=0;j<c.length;j++)if(h[i].functionName.indexOf(c[j])!==-1){h.splice(i,1);k=!0;i--;break}g=h[0];(k||void 0===b.lineNumber)&&(b.lineNumber=g.lineNumber);(k||void 0===b.columnNumber)&&(b.columnNumber=g.columnNumber);(k||void 0===b.functionName)&&(b.functionName=g.functionName);(k||void 0===b.fileName)&&(b.fileName=g.fileName);b.stack&&(b.stack=b.stack.replace(/\s\s+/g," "))}}else(b.functionName||b.fileName||b.lineNumber||b.columnNumber)&&(h=[{lineNumber:b.lineNumber,columnNumber:b.columnNumber,fileName:b.fileName,functionName:b.functionName}]);b.message.indexOf("ReferenceError:")!==-1&&"Error"===b.name&&(b.name="ReferenceError");return new a({code:b.code?b.code:void 0,message:b.message?b.message:void 0,functionName:b.functionName?b.functionName:void 0,fileName:b.fileName?b.fileName:void 0,lineNumber:b.lineNumber?b.lineNumber:void 0,columnNumber:b.columnNumber?b.columnNumber:void 0,stack:b.stack?b.stack:void 0,type:b.name?b.name:void 0,source:f,via:e,frames:h,extra:b.extra?b.extra:void 0,timestamp:b.timestamp?b.timestamp:l})};b={onError:void 0,monitorGlobal:!0,monitorNetwork:!0,monitorConsole:!0,monitorEvents:!0,monitorTimeout:!0,sendAfterOnload:!1,isDuringLoad:!0,maxErrors:10,sendInterval:1e3,sendIntervalId:-1,maxEvents:10,initialized:!1,supported:!1,errors:[],q:[],events:[],send:function(a,c,d){function createStackForSend(){try{throw Error(a)}catch(f){a=ex;a.generatedStack=!0;a.timestamp=e;b.addError(a,c,d)}}var e=BOOMR.now();if(a){c=c||BOOMR.plugins.Errors.VIA_APP;d=d||BOOMR.plugins.Errors.SOURCE_APP;if(a.stack||a.noStack){a.timestamp=e;b.addError(a,c,d)}else createStackForSend()}},addError:function(c,d,e){var f,g,h=!1;if(b.isDuringLoad||b.sendAfterOnload){if(b.onError){try{f=b.onError(c)}catch(i){f=!1}if(!f)return}if(!(b.errors.length>=b.maxErrors)){g=a.fromError(c,d,e);h=b.mergeDuplicateErrors(b.errors,g,!1);BOOMR.fireEvent("onerror",h||g);b.mergeDuplicateErrors(b.q,g,!0);if(!b.isDuringLoad&&b.sendIntervalId===-1){if(h)return;b.sendIntervalId=setTimeout(function(){b.sendIntervalId=-1;BOOMR.addVar("http.initiator","error");BOOMR.addVar("api",1);b.addErrorsToBeacon();BOOMR.sendBeacon()},b.sendInterval)}}}},findDuplicateError:function(a,b){if(Array.isArray(a)&&void 0!==b)for(var c=0;c<a.length;c++)if(a[c].equals(b))return a[c]},mergeDuplicateErrors:function(a,c,d){if(Array.isArray(a)&&void 0!==c){var e=b.findDuplicateError(a,c);if(e){d&&(e.count+=c.count);return e}a.push(c)}},onBeacon:function(){BOOMR.removeVar("err");BOOMR.removeVar("api");BOOMR.removeVar("http.initiator")},pageReady:function(){b.isDuringLoad=!1},getErrors:function(){return 0!==b.errors.length&&b.errors},getErrorsForUrl:function(a){a=b.compressErrors(a);if(BOOMR.utils.Compression.jsUrl)return BOOMR.utils.Compression.jsUrl(a);if(!window.JSON){BOOMR.debug("JSON is not supported","Errors");return""}url+=JSON.stringify(a)},addErrorsToBeacon:function(){if(b.q.length){var a=this.getErrorsForUrl(b.q);a&&BOOMR.addVar("err",a);b.q=[]}},beforeBeacon:function(){b.addErrorsToBeacon()},wrapFn:function(a,c,d,e,f){var g=c[a];"function"==typeof g&&(c[a]=function(){try{var h=Array.prototype.slice.call(arguments),i=h[e],j=d?this:c,k=b.wrap(i,j,f);h[e]=k;"addEventListener"===a&&b.trackFn(j,h[0],i,h[2],k);return g.apply(j,h)}catch(l){b.send(e,f)}})},trackFn:function(a,c,d,e,f){if(a&&b.trackedFnIdx(a,c,d,e)===-1){a._bmrEvents||(a._bmrEvents=[]);a._bmrEvents.push([c,d,!!e,f])}},trackedFnIdx:function(a,b,c,d){var e,f;if(a){a._bmrEvents||(a._bmrEvents=[]);for(e=0;e<a._bmrEvents.length;e++){f=a._bmrEvents[e];if(f[0]===b&&f[1]===c&&f[2]===!!d)return e}return-1}},wrapRemoveEventListener:function(a){var c,d,e="removeEventListener",f=a[e];"function"==typeof f&&(a[e]=function(a,e,g){c=b.trackedFnIdx(this,a,e,g);if(c!==-1){d=this._bmrEvents[c][3];f.call(this,a,d,g);this._bmrEvents.splice(c,1)}else f.call(this,a,e,g)})},wrap:function(a,c,d){if("function"!=typeof a)return a;d=d||BOOMR.plugins.Errors.VIA_APP;return function(){try{return a.apply(c,arguments)}catch(e){b.send(e,d)}}},test:function(){var a,c,d;if(0!==arguments.length){a=arguments[0];if("function"==typeof a){c=arguments.length>1?arguments[1]:BOOMR.window;var d=Array.prototype.slice.call(arguments,2);return b.wrap(a,c).apply(c,d)}}},normalizeToString:function(a){return void 0===a?"undefined":null===a?"null":"number"==typeof a&&isNaN(a)?"NaN":""===a?"(empty string)":0===a?"0":a?"function"==typeof a?"(function)":a&&"function"==typeof a.toString?a.toString():"(unknown)":"false"},compressErrors:function(a){var b,c,d,e,f,g,h,i,j,k=0;i=BOOMR.window.location.origin;for(b=0;b<a.length;b++){d=a[b];j={};1!==d.count&&(j.n=d.count);if("number"==typeof d.timestamp){k=d.timestamp;j.d=d.timestamp.toString(36)}if(d.frames.length){j.f=[];for(c=0;c<d.frames.length;c++){e=d.frames[c];e.lineNumber&&(e.lineNumber=parseInt(e.lineNumber,10));e.columnNumber&&(e.columnNumber=parseInt(e.columnNumber,10));g={l:e.lineNumber,c:e.columnNumber};"string"==typeof e.fileName&&(e.fileName.indexOf(i)!==-1?g.wo=e.fileName.replace(i,""):g.w=e.fileName);"string"==typeof e.functionName&&(g.f=e.functionName);j.f.push(g)}}if(d.events.length){j.e=[];for(c=0;c<d.events.length;c++){f=d.events[c];h={t:f.type,d:k?k-f.timestamp:f.timestamp};if(f.type===BOOMR.plugins.Errors.EVENT_CLICK){f.id&&(h.i=f.id);f.name&&(h.n=f.name);f.tagName&&(h.g=f.tagName)}else if(f.type===BOOMR.plugins.Errors.EVENT_NETWORK){f.url&&(h.u=f.url);f.method&&(h.m=f.method);f.result&&(h.r=f.result)}else if(f.type===BOOMR.plugins.Errors.EVENT_LOG){f.severity&&(h.s=f.severity);f.message&&(h.m=f.message)}j.e.push(h)}}d.source!==BOOMR.plugins.Errors.SOURCE_APP&&(j.s=d.source);void 0!==d.via&&d.via!==BOOMR.plugins.Errors.VIA_APP&&(j.v=d.via);void 0!==d.type&&"Error"!==d.type&&(j.t=d.type);d.code&&(j.c=d.code);d.message&&(j.m=d.message);d.extra&&(j.x=d.extra);a[b]=j}return a}};var e=BOOMR.plugins.Errors={init:function(a){BOOMR.utils.pluginConfig(b,a,"Errors",["onError","monitorGlobal","monitorNetwork","monitorConsole","monitorEvents","monitorTimeout","sendAfterOnload","sendInterval","maxErrors"]);if(b.initialized)return this;b.initialized=!0;b.supported=!0;if(!b.supported)return this;BOOMR.subscribe("before_beacon",b.beforeBeacon,null,b);BOOMR.subscribe("onbeacon",b.onBeacon,null,b);BOOMR.subscribe("page_ready",b.pageReady,null,b);BOOMR.registerEvent("onerror");if(b.monitorGlobal)try{var c=BOOMR.window.onerror;BOOMR.window.onerror=function(a,d,f,g,h){void 0!==h&&null!==h?b.send(h,e.VIA_GLOBAL_EXCEPTION_HANDLER):b.send({message:a,fileName:d,lineNumber:f,columnNumber:g,noStack:!0},e.VIA_GLOBAL_EXCEPTION_HANDLER);"function"==typeof c&&c.apply(window,arguments)}}catch(f){BOOMR.debug("Exception in the window.onerror handler","Errors")}b.monitorNetwork&&BOOMR.subscribe("onxhrerror",function(a){b.send({code:a.status,message:a.url,noStack:!0},e.VIA_NETWORK)});if(b.monitorConsole){BOOMR.window.console||(BOOMR.window.console={});var d=BOOMR.window.console.error;try{BOOMR.window.console.error=function(){var a=Array.prototype.slice.call(arguments);1===a.length?b.send(b.normalizeToString(a[0]),e.VIA_CONSOLE):b.send(b.normalizeToString(a),e.VIA_CONSOLE);"function"==typeof d&&("function"==typeof d.apply?d.apply(this,a):d(a[0],a[1],a[2]))}}catch(g){BOOMR.debug("Exception in the window.console.error handler","Errors")}}if(b.monitorEvents&&BOOMR.window.addEventListener&&BOOMR.window.Element){b.wrapFn("addEventListener",BOOMR.window,!1,1,e.VIA_EVENTHANDLER);b.wrapFn("addEventListener",BOOMR.window.Element.prototype,!0,1,e.VIA_EVENTHANDLER);b.wrapFn("addEventListener",BOOMR.window.XMLHttpRequest.prototype,!0,1,e.VIA_EVENTHANDLER);b.wrapRemoveEventListener(BOOMR.window);b.wrapRemoveEventListener(BOOMR.window.Element.prototype);b.wrapRemoveEventListener(BOOMR.window.XMLHttpRequest.prototype)}if(b.monitorTimeout){b.wrapFn("setTimeout",BOOMR.window,!1,0,e.VIA_TIMEOUT);b.wrapFn("setInterval",BOOMR.window,!1,0,e.VIA_TIMEOUT)}return this},is_complete:function(){return!0},is_supported:function(){return b.initialized&&b.supported},SOURCE_APP:1,SOURCE_BOOMERANG:2,VIA_APP:1,VIA_GLOBAL_EXCEPTION_HANDLER:2,VIA_NETWORK:3,VIA_CONSOLE:4,VIA_EVENTHANDLER:5,VIA_TIMEOUT:6,EVENT_CLICK:1,EVENT_NETWORK:2,EVENT_LOG:3,send:b.send,wrap:b.wrap,test:b.test,BoomerangError:a}}}();!function(){"use strict";if(!BOOMR.plugins.TPAnalytics){var a={addedVars:[],googleAnalytics:function(){var a,b,c,d={},e=BOOMR.window,f=["utm_source","utm_medium","utm_term","utm_content","utm_campaign"];if("function"==typeof e.ga)try{e.ga(function(a){d.clientid=a.get("clientId")})}catch(g){BOOMR.addError(err,"TPAnalytics googleAnalytics")}for(a=0;a<f.length;a++){b=f[a];c=BOOMR.utils.getQueryParamValue(b);c&&(d[b]=c)}return d},adobeAnalytics:function(){var a,b,c,d,e,f={},g=BOOMR.window,h=/AMCV_([A-Z0-9]+)%40AdobeOrg/,i=/\|([^\[]+)/;if(void 0!==g._satellite||"function"==typeof g.mboxCreate||"function"==typeof g.Visitor||"object"==typeof g.s){if("object"==typeof g.s&&"object"==typeof g.s.visitor&&"function"==typeof g.s.visitor.getAnalyticsVisitorID&&"function"==typeof g.s.visitor.getMarketingCloudVisitorID)try{b=g.s.visitor.getMarketingCloudVisitorID();b&&(f.mid=b);a=g.s.visitor.getAnalyticsVisitorID();a&&(f.aid=g.s.visitor.getAnalyticsVisitorID())}catch(j){BOOMR.addError(err,"TPAnalytics adobeAnalytics")}else{c=h.exec(g.document.cookie);if(c&&"function"==typeof g.Visitor&&"function"==typeof g.Visitor.getInstance)try{d=g.Visitor.getInstance(c[1]+"@AdobeOrg");if(d&&"function"==typeof d.getAnalyticsVisitorID&&"function"==typeof d.getMarketingCloudVisitorID){b=d.getMarketingCloudVisitorID();b&&(f.mid=b);a=d.getAnalyticsVisitorID();a&&(f.aid=d.getAnalyticsVisitorID())}}catch(j){
BOOMR.addError(j,"TPAnalytics adobeAnalytics")}else{a=BOOMR.utils.getCookie("s_vi");if(a){e=i.exec(a);a=e&&e.length>0?e[1]:""}else a=BOOMR.utils.getCookie("s_fid");a&&(f.aid=a)}}"object"==typeof g.s&&"string"==typeof g.s.campaign&&g.s.campaign&&(f.campaign=g.s.campaign)}return f},ibmAnalytics:function(){var a,b,c,d,e,f,g={},h=BOOMR.window,i={cm_mmc:[/([^&#]+?)-_-([^&#]+?)-_-([^&#]+?)-_-([^&#]+)/,["mmc_vendor","mmc_category","mmc_placement","mmc_item"]],cm_sp:[/([^&#]+?)-_-([^&#]+?)-_-([^&#]+)/,["sp_type","sp_promotion","sp_link"]],cm_re:[/([^&#]+?)-_-([^&#]+?)-_-([^&#]+)/,["re_version","re_pagearea","re_link"]]};if("function"==typeof h.cmRetrieveUserID)try{h.cmRetrieveUserID(function(a){g.coreid=a})}catch(j){BOOMR.addError(err,"TPAnalytics ibmAnalytics")}for(d in i)if(i.hasOwnProperty(d)){a=BOOMR.utils.getQueryParamValue(d);if(a){e=i[d][0];f=i[d][1];b=e.exec(a);if(b&&b.length>f.length)for(c=0;c<f.length;c++)b[c+1]&&(g[f[c]]=decodeURIComponent(b[c+1]))}}return g},pageReady:function(){this.addedVars=[];var b,c,d,e,f={ga:this.googleAnalytics,aa:this.adobeAnalytics,ia:this.ibmAnalytics};for(b in f){c=f[b]();for(var d in c){var e="tp."+b+"."+d;BOOMR.addVar(e,c[d]);a.addedVars.push(e)}}this.addedVars.length>0&&BOOMR.sendBeacon()},onBeacon:function(){if(this.addedVars&&this.addedVars.length>0){BOOMR.removeVar(this.addedVars);this.addedVars=[]}}};BOOMR.plugins.TPAnalytics={init:function(b){if(!a.initialized){BOOMR.subscribe("page_ready",a.pageReady,null,a);BOOMR.subscribe("onbeacon",a.onBeacon,null,a);BOOMR.subscribe("prerender_to_visible",a.pageReady,null,a);a.initialized=!0}return this},is_complete:function(){return!0}}}}();BOOMR.init({beacon_url:"https://sig.edgeno.de/track",log:function(){}});BOOMR.init({beacon_url:"https://sig.edgeno.de/track",log:function(){}});
